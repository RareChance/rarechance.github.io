<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>That is unbelievable</title>
</head>
<body>
<img src="pic.png" alt="Yo" width="200" height="200"><br>
Input:<br><input type="text" id="message"><br>
Key:<br><input type="text" id="key"><br>
<p></p><button id="encrypt" onclick="otpEnc()">OTP-Encrypt</button>
<button id="decrypt" onclick="otpDec()">OTP-Decrypt</button><br>
<hr>
<p>Output:</p><p id="result"></p>

<script>
    function otpEnc() {
        var message = document.getElementById("message").value;
        var key = document.getElementById("key").value;
        var charArray1 = message.toUpperCase().split("");
        var charArray2 = key.toUpperCase().split("");
        var res = "";
        var alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S",
            "T", "U", "V", "W", "X", "Y", "Z"];
        for (j = 0; j < message.length; j++) {
            if (!charArray1[j].match(/[a-z]/i)) {
                res += charArray1[j];
                continue;
            }
            var a = alphabet.indexOf(charArray1[j]);
            var b = alphabet.indexOf(charArray2[j]);
            var x = a + b;
            if (x > 25) {
                x = x % 26;
            }
            res += alphabet[x]
        }
        document.getElementById("result").innerHTML = res;
    }

    function otpDec() {
        var message = document.getElementById("message").value;
        var key = document.getElementById("key").value;
        var charArray1 = message.toUpperCase().split("");
        var charArray2 = key.toUpperCase().split("");
        var res = "";
        var alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S",
            "T", "U", "V", "W", "X", "Y", "Z"];
        for (j = 0; j < message.length; j++) {
            if (!charArray1[j].match(/[a-z]/i)) {
                res += charArray1[j];
                continue;
            }
            var a = alphabet.indexOf(charArray1[j]);
            var b = alphabet.indexOf(charArray2[j]);
            var x = a - b;
            if (x < 0) {
                x = x + 26;
            }
            res += alphabet[x]
        }
        document.getElementById("result").innerHTML = res;
    }
</script>
</body>
</html>
