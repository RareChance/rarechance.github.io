<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>That is unbelievable</title>
</head>
<body>
Input:<input type="text" id="message" style="text-align: center"><br>
Key:<input type="text" id="key" style="text-align: center"><br>
<button id="encrypt" onclick="otpEnc()" style="text-align: center">Encrypt</button><br>
<button id="decrypt" onclick="otpDec()" style="text-align: center">Decrypt</button><br>
<hr>
Output:<p id="result" style="text-align: center"></p>

<script>
    function otpEnc() {
        var message = document.getElementById("message").value;
        var key = document.getElementById("key").value;
        var charArray1 = message.toUpperCase().split("");
        var charArray2 = key.toUpperCase().split("");
        var res = "";
        var alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S",
            "T", "U", "V", "W", "X", "Y", "Z"];
        for (j = 0; j < message.length; j++) {
            if (!charArray1[j].match(/[a-z]/i)) {
                res += charArray1[j];
                continue;
            }
            var a = alphabet.indexOf(charArray1[j]);
            var b = alphabet.indexOf(charArray2[j]);
            var x = a + b;
            if (x > 25) {
                x = x % 26;
            }
            res += alphabet[x]
        }
        document.getElementById("result").innerHTML = res;
    }

    function otpDec() {
        var message = document.getElementById("message").value;
        var key = document.getElementById("key").value;
        var charArray1 = message.toUpperCase().split("");
        var charArray2 = key.toUpperCase().split("");
        var res = "";
        var alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S",
            "T", "U", "V", "W", "X", "Y", "Z"];
        for (j = 0; j < message.length; j++) {
            if (!charArray1[j].match(/[a-z]/i)) {
                res += charArray1[j];
                continue;
            }
            var a = alphabet.indexOf(charArray1[j]);
            var b = alphabet.indexOf(charArray2[j]);
            var x = a - b;
            if (x < 0) {
                x = x + 26;
            }
            res += alphabet[x]
        }
        document.getElementById("result").innerHTML = res;
    }
</script>
</body>
</html>
